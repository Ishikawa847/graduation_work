<div class="container mx-auto px-6 py-10">

<div class="flex items-center justify-between mb-8">
  <h1 class="text-3xl font-bold text-gray-100">
    <%= t('.title') %>
  </h1>

  <%= link_to t('.new'), new_menu_path,
      class: "bg-white text-gray-900 font-semibold px-5 py-2.5 rounded-lg shadow
            hover:bg-gray-200 transition" %>
</div>

  <% if @menus.any? %>
    <div class="overflow-x-auto bg-gray-800 rounded-xl shadow-lg">
      <table class="min-w-full text-sm text-gray-300">

        <thead class="bg-gray-900 text-gray-400">
          <tr>
            <th class="px-6 py-4 text-left font-semibold"><%= t('.table.menu_name') %></th>
            <th class="px-6 py-4 text-center font-semibold"><%= t('.table.recipe_count') %></th>
            <th class="px-6 py-4 text-center font-semibold"><%= t('.table.created_at') %></th>
            <th class="px-6 py-4 text-center font-semibold"><%= t('.table.pfc') %></th>
            <th class="px-6 py-4 text-right font-semibold"><%= t('.table.actions') %></th>
          </tr>
        </thead>

        <tbody class="divide-y divide-gray-700">
          <% @menus.each do |menu| %>
            <tr class="hover:bg-gray-700/40 transition-colors">

              <td class="px-6 py-4 font-medium text-gray-100">
                <%= link_to menu.name, menu_path(menu),
                    class: "hover:text-blue-400 transition-colors" %>
              </td>

              <td class="px-6 py-4 text-center">
                <span class="inline-block bg-gray-700 px-3 py-1 rounded-full text-xs">
                  <%= menu.recipes.size %>
                </span>
              </td>

              <td class="px-6 py-4 text-center text-gray-400">
                <%= l menu.created_at, format: :long %>
              </td>

              <td class="px-6 py-4 text-center text-xs">
                <span class="text-blue-400">P:</span> <%= menu.total_protein %>
                <span class="mx-1 text-gray-500">/</span>
                <span class="text-red-400">F:</span> <%= menu.total_fat %>
                <span class="mx-1 text-gray-500">/</span>
                <span class="text-green-400">C:</span> <%= menu.total_carb %>
              </td>

              <td class="px-6 py-4 text-right space-x-3">
                <%= link_to t('.actions.show'), menu_path(menu),
                    class: "text-blue-400 hover:text-blue-300 transition" %>

                <%= link_to t('.actions.edit'), edit_menu_path(menu),
                    class: "text-yellow-400 hover:text-yellow-300 transition" %>

                <%= link_to t('.actions.delete'), menu_path(menu),
                    data: { turbo_method: :delete, turbo_confirm: t('.actions.confirm_delete') },
                    class: "text-red-400 hover:text-red-300 transition" %>
              </td>

            </tr>
          <% end %>
        </tbody>

      </table>
    </div>

  <% else %>
    <div class="text-center py-16 text-gray-400">
      <p class="text-lg mb-4"><%= t('.empty.message') %></p>
      <%= link_to t('.empty.create_first'), new_menu_path,
          class: "inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition" %>
    </div>
  <% end %>

</div>
